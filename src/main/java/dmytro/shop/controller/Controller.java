package dmytro.shop.controller;import dmytro.shop.entiti.Category;import dmytro.shop.entiti.Product;import dmytro.shop.entiti.SubCategories;import dmytro.shop.repository.CategoryRepository;import dmytro.shop.repository.ProductRepository;import dmytro.shop.repository.SubCategoriesRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class Controller {    @Autowired    private SubCategoriesRepository subCategoriesRepository;    @Autowired    private ProductRepository productRepository;    @GetMapping("/filter")    public Long create(@RequestParam String name,                       @RequestParam Integer price,                       @RequestParam Long categoryId) {        SubCategories subCategories = subCategoriesRepository.findById(categoryId).orElseThrow(RuntimeException::new);        Product product = Product.builder()                .name(name)                .price(price)                .subCategories(subCategories)                .build();        return productRepository.save(product).getId();    }}